<!DOCTYPE html>
<html lang="en" style="overflow: hidden;  height: 100%;">
	<head>
		<title>UpShaped Test Page</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="assets/css/custom_bootstrap.css">


        <!-- Import the component -->
        <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

	</head>

	<body style="overflow: hidden; height: 100%;">
        <div>
            <span class="fs-1">Welcome to the Test.</span>
        </div>

        <!-- Use it like any other HTML element -->
        <model-viewer
            id="color"
            alt="Neil Armstrong's Spacesuit from the Smithsonian Digitization Programs Office and National Air and Space Museum"
            src="assets/models/couch/leather.glb"
            ar
            poster="assets/models/shared-assets/NeilArmstrong.webp" shadow-intensity="1"
            camera-controls touch-action="pan-y"
        ></model-viewer>

        <div class="controls" ,="" id="color-controls">
            <button data-color="#ff0000">Red</button>
            <button data-color="#00ff00">Green</button>
            <button data-color="#0000ff">Blue</button>
        </div>

        <script>
            const modelViewerColor = document.querySelector("model-viewer#color");

            console.log("initialize..");
            
            document.querySelector('#color-controls').addEventListener('click', (event) => {
                const colorString = event.target.dataset.color;

                console.log(colorString);

                const materials = modelViewerColor.model.materials;
                // materials[0].pbrMetallicRoughness.setBaseColorFactor(colorString); 0 is the metal
                materials[1].pbrMetallicRoughness.setBaseColorFactor(colorString);
                materials[2].pbrMetallicRoughness.setBaseColorFactor(colorString);
                materials[3].pbrMetallicRoughness.setBaseColorFactor(colorString);
                materials[4].pbrMetallicRoughness.setBaseColorFactor(colorString);
                materials[5].pbrMetallicRoughness.setBaseColorFactor(colorString);
                materials[6].pbrMetallicRoughness.setBaseColorFactor(colorString);
            });
        </script>

        <!-- environment-image="assets/models/shared-assets/moon_1k.hdr" -->
	</body>
</html>